---
title: "Standard Library Overview"
output: arl::arl_html_vignette
pkgdown:
  as_is: true
vignette: >
  %\VignetteIndexEntry{Standard Library Overview}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!-- AUTO-GENERATED from inst/arl/ source files. Do not edit manually. -->
<!-- Regenerate with: make stdlib-docs -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
arl::register_knitr_engine()
```

Arl's standard library has two layers:

1. **Built-in functions** defined in R (`R/engine.R`). These are low-level
   primitives that need direct access to engine internals â€” cons-cell
   operations, the macro expander, the evaluator, promise handling, and
   documentation helpers. They are always available, even when the stdlib
   modules are not loaded (`Engine$new(load_stdlib = FALSE)`).
2. **Stdlib modules** written in Arl (`inst/arl/*.arl`). These provide the
   bulk of the standard library: list operations, math, strings, control flow,
   and everything else. Modules are loaded in dependency order (each module
   declares its dependencies with `(import ...)` and is loaded after the
   modules it imports).

For the full, per-function reference, see the individual stdlib reference pages:

- [Standard Library: Lists and Sequences](stdlib-list-seq.html)
- [Standard Library: Higher-Order Functions](stdlib-functional.html)
- [Standard Library: Type Predicates](stdlib-types.html)
- [Standard Library: Equality and S3 Dispatch](stdlib-equality.html)
- [Standard Library: Type Conversions](stdlib-conversions.html)
- [Standard Library: Math and Numeric Functions](stdlib-math.html)
- [Standard Library: Control Flow and Macros](stdlib-control.html)
- [Standard Library: Strings, I/O, and Arithmetic](stdlib-strings-io.html)
- [Standard Library: Macro, Eval, Interop, and Convenience](stdlib-macro-eval-interop.html)

## Importing modules

All stdlib modules are loaded automatically by `Engine$new()`. The `import`
form is useful inside your own modules (where you start with an empty scope)
and when working with a bare engine (`Engine$new(load_stdlib = FALSE)`):

```{arl, eval=FALSE}
; Import focused modules
(import control)   ; when/unless/cond/case/try*
(import binding)   ; let/let*/letrec
(import looping)   ; for/loop/recur/until
(import threading) ; -> and ->>
(import error)     ; try/catch/finally
```

From R, you can create an engine with the stdlib already loaded:

```r
engine <- Engine$new()                   # all stdlib loaded
bare <- Engine$new(load_stdlib=FALSE)    # builtins only
```

## [Lists and Sequences](stdlib-list-seq.html)

List construction, accessors, association lists, sequence helpers, and sorting.

`call`, `car`, `cdr`, `caar`, `cadr`, `cdar`, `cddr`, `caaar`, `caadr`,
`cadar`, `caddr`, `cdaar`, `cdadr`, `cddar`, `cdddr`, `cadddr`, `cddddr`,
`cons`, `list*`, `append`, `reverse`, `first`, `second`, `third`, `fourth`,
`rest`, `last`, `nth`, `assoc`, `assoc-by-equal?`, `assoc-by-identical?`,
`assoc-by-==`, `assq`, `assv`, `rassoc`, `rassoc-by-equal?`, `range`, `iota`,
`make-list`, `list-ref`, `list-tail`, `take`, `drop`, `take-while`,
`drop-while`, `partition`, `flatten`, `repeatedly`, `repeat`, `zip`, `member`,
`contains?`, `length=`, `length>`, `length<`, `sort`, `sort-by`, `merge`,
`stable-sort`

## [Higher-Order Functions](stdlib-functional.html)

Mapping, filtering, folding, function composition, and logical combinators.

`map`, `mapcat`, `filter`, `remove`, `reduce`, `foldl`, `foldr`, `every?`,
`any?`, `complement`, `compose`, `partial`, `curry`, `juxt`, `constantly`,
`iterate`, `iterate-until`, `memoize`, `not`, `xor`

## [Type Predicates](stdlib-types.html)

Predicates for testing the type of a value.

`list?`, `list-or-pair?`, `null?`, `nil?`, `symbol?`, `keyword?`, `number?`,
`string?`, `vector?`, `true?`, `false?`, `boolean?`, `fn?`, `callable?`,
`procedure?`, `environment?`, `is-refclass?`, `atom?`, `empty?`, `type-of`,
`pair?`

## [Equality and S3 Dispatch](stdlib-equality.html)

Structural and identity equality, plus an S3-style method dispatch system.

`identical?`, `eq?`, `eqv?`, `equal?`, `equal?.default`, `equal?.environment`,
`equal?.list`, `env-equal?`, `list-equal?`, `s3-type`, `check-s3-type-match`,
`use-method`, `set-method!`

## [Type Conversions](stdlib-conversions.html)

Convert between symbols, strings, numbers, lists, and vectors.

`symbol->string`, `string->symbol`, `->symbol`, `->number`, `->list`,
`->vector`, `->integer`, `->double`, `->complex`, `exact->inexact`,
`inexact->exact`

## [Math and Numeric Functions](stdlib-math.html)

Arithmetic, comparison, rounding, trigonometry, number theory, and numeric predicates.

`%`, `+`, `*`, `-`, `/`, `min`, `max`, `<`, `>`, `<=`, `>=`, `==`, `=`, `inc`,
`dec`, `clamp`, `within?`, `even?`, `odd?`, `zero?`, `positive?`, `negative?`,
`non-negative?`, `non-positive?`, `integer?`, `natural?`, `real?`, `complex?`,
`rational?`, `exact?`, `inexact?`, `finite?`, `infinite?`, `nan?`, `abs`,
`floor`, `ceiling`, `truncate`, `round`, `signum`, `sqrt`, `expt`, `log`,
`exp`, `log10`, `log2`, `sin`, `cos`, `tan`, `asin`, `acos`, `atan`, `atan2`,
`quotient`, `remainder`, `modulo`, `gcd`, `lcm`, `make-rectangular`,
`make-polar`, `real-part`, `imag-part`, `magnitude`, `angle`

## [Control Flow and Macros](stdlib-control.html)

Conditionals, binding forms, looping, threading macros, and error handling.

`when`, `unless`, `cond`, `case`, `try*`, `pattern-symbols`,
`destructuring-bind`, `let`, `let*`, `letrec`, `when-let`, `if-let`, `until`,
`for`, `loop`, `recur`, `->`, `->>`, `try`

## [Strings, I/O, and Arithmetic](stdlib-strings-io.html)

String manipulation, file and console I/O, environment access, and display formatting.

`string-join`, `string-split`, `trim`, `format`, `string-contains?`,
`string-match?`, `string-find`, `string-replace`, `string-replace-all`,
`string-append`, `->string`, `char-at`, `string-ref`, `substring`,
`string-length`, `string-upcase`, `string-downcase`, `string-titlecase`,
`string<?`, `string>?`, `string=?`, `string<=?`, `string>=?`, `string->list`,
`list->string`, `number->string`, `string->number`, `read-line`, `read-file`,
`read-lines`, `write-file`, `write-lines`, `append-file`, `file-exists?`,
`print`, `newline`, `read-from-string`, `write-string`, `file-size`,
`file-modified-time`, `file-delete`, `directory-exists?`, `directory-list`,
`directory-delete`, `getenv`, `setenv`, `system`, `system-output`, `exit`,
`format-value`, `display`, `println`, `str`, `trace`

## [Macro, Eval, Interop, and Convenience](stdlib-macro-eval-interop.html)

Evaluation, macro utilities, dictionaries, sets, structs, assertions, and R interop helpers.

`license`, `error`, `warn`, `identity`, `values`, `values?`,
`call-with-values`, `call/cc`, `call-with-current-continuation`, `funcall`,
`r/call`, `get`, `macroexpand-1`, `macroexpand-all`, `suppressWarnings`,
`suppressMessages`, `with`, `within`, `subset`, `transform`, `substitute`,
`dict`, `hash`, `dict?`, `dict-get`, `dict-set`, `dict-remove`, `dict-keys`,
`dict-values`, `dict-has?`, `dict-merge`, `set`, `set?`, `set-add`,
`set-remove`, `set-contains?`, `set-union`, `set-intersection`,
`set-difference`, `defstruct`, `assert`, `assert-equal`, `assert-true`,
`assert-false`, `assert-eq`, `assert-error`, `eval`, `read`, `write`,
`capture`, `gensym`, `macro?`, `macroexpand`, `promise?`, `force`,
`promise-expr`, `r/eval`, `toplevel-env`, `current-env`, `doc!`, `doc`

## Built-in functions

The following functions are implemented in R
([`R/engine.R`](https://github.com/wwbrannon/arl/blob/main/R/engine.R)) rather than in Arl source
modules. They are available even on a bare engine
(`Engine$new(load_stdlib = FALSE)`).

| Category | Functions |
|----------|-----------|
| Cons cells | `pair?`|
| Macros | `gensym`, `capture`, `macro?`, `macroexpand` |
| Evaluation | `eval`, `read`, `write`, `r/eval` |
| Environments | `toplevel-env`, `current-env` |
| Promises | `promise?`, `force`, `promise-expr` |
| Documentation | `doc!`, `doc` |

These builtins are documented alongside the stdlib functions they relate to
in the individual reference pages above.

## Source files

Built-in functions are defined in
[`R/engine.R`](https://github.com/wwbrannon/arl/blob/main/R/engine.R). The
Arl stdlib modules are organized by topic in
[`inst/arl/`](https://github.com/wwbrannon/arl/tree/main/inst/arl) (each file
defines a module). The engine loads these modules in dependency order when
initializing.

- [`_r.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/_r.arl) (R operator/function aliases, internal)
- [`core.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/core.arl)
- [`list.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/list.arl)
- [`types.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/types.arl) (type predicates)
- [`logic.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/logic.arl) (logical operations)
- [`conversions.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/conversions.arl) (type conversions)
- [`equality.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/equality.arl) (equality and S3 dispatch)
- [`control.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/control.arl)
- [`functional.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/functional.arl)
- [`sequences.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/sequences.arl)
- [`sort.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/sort.arl)
- [`struct.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/struct.arl)
- [`error.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/error.arl)
- [`threading.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/threading.arl)
- [`binding.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/binding.arl)
- [`looping.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/looping.arl)
- [`dict.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/dict.arl)
- [`math.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/math.arl) (includes numeric type predicates)
- [`set.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/set.arl)
- [`strings.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/strings.arl)
- [`display.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/display.arl)
- [`io.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/io.arl)
- [`assert.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/assert.arl)
- [`r-interop.arl`](https://github.com/wwbrannon/arl/blob/main/inst/arl/r-interop.arl)

If you're looking for implementation details, these files are the source of
truth for the stdlib definitions.
