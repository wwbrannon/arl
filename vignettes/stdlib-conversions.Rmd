---
title: "Standard Library: Type Conversions"
output:
  rmarkdown::html_vignette:
    highlight: null
vignette: >
  %\VignetteIndexEntry{Standard Library: Type Conversions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!-- AUTO-GENERATED from inst/rye/ source files. Do not edit manually. -->
<!-- Regenerate with: make stdlib-docs -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

These functions are provided by the `conversions` module (`inst/rye/conversions.rye`).

## Symbol Conversions

### symbol->string {#symbol-to-string}

Convert symbol to string.

**Signature:** `(symbol->string sym)`

**Examples:**
```lisp
(symbol->string 'hello)  ; => "hello"
(symbol->string 'x)      ; => "x"
```

**Note:** Signals an error if the argument is not a symbol.

**See also:** [string->symbol](#string-to-symbol), [->symbol](#to-symbol)

---

### string->symbol {#string-to-symbol}

Convert string to symbol.

**Signature:** `(string->symbol str)`

**Examples:**
```lisp
(string->symbol "hello")  ; => hello (a symbol)
(string->symbol "x")      ; => x
```

**Note:** Signals an error if the argument is not a string.

**See also:** [symbol->string](#symbol-to-string), [->symbol](#to-symbol)

---

### ->symbol {#to-symbol}

Convert value to symbol.

**Signature:** `(->symbol x)`

**Examples:**
```lisp
(->symbol "hello")  ; => hello (a symbol)
(->symbol 42)       ; => 42 (symbol named "42")
(->symbol 'x)       ; => x (already a symbol, returned as-is)
```

**See also:** [symbol->string](#symbol-to-string), [string->symbol](#string-to-symbol)

---

## Numeric Conversions

R-style type conversions providing explicit control over the target numeric type.

### ->number {#to-number}

Convert value to number.

**Signature:** `(->number x)`

**Examples:**
```lisp
(->number "42")     ; => 42
(->number "3.14")   ; => 3.14
(->number 5)        ; => 5 (already a number)
```

**Note:** Signals an error for non-numeric strings (e.g. `(->number "abc")`).

**See also:** [->integer](#to-integer), [->double](#to-double), [->complex](#to-complex)

---

## Scheme-Style Exact/Inexact Conversions

### exact->inexact {#exact-to-inexact}

Convert exact number to inexact (integer to double).

**Signature:** `(exact->inexact x)`

**Examples:**
```lisp
(exact->inexact 5L)     ; => 5.0 (integer to double)
(exact->inexact 3.14)   ; => 3.14 (already double, returned as double)
```

**Note:** In Scheme, exactness is a property of any number. In R (and Rye), exact means integer storage type and inexact means double or complex. See also `exact?` and `inexact?` in the `math` module.

**See also:** [inexact->exact](#inexact-to-exact), [exact?](stdlib-math.html#exact) (in `math` module), [inexact?](stdlib-math.html#inexact) (in `math` module)

---

### inexact->exact {#inexact-to-exact}

Convert inexact number to exact (double to integer, rounds to nearest).

**Signature:** `(inexact->exact x)`

**Examples:**
```lisp
(inexact->exact 3.7)    ; => 4L (rounds to nearest integer)
(inexact->exact 3.2)    ; => 3L
(inexact->exact 5L)     ; => 5L (already integer)
```

**Note:** **Warning:** Converting double to integer rounds to the nearest integer, which may lose precision. For example, `(inexact->exact 3.7)` returns `4L`, not `3L`.

**See also:** [exact->inexact](#exact-to-inexact), [exact?](stdlib-math.html#exact) (in `math` module), [inexact?](stdlib-math.html#inexact) (in `math` module)

---

## Numeric Conversions

R-style type conversions providing explicit control over the target numeric type.

### ->integer {#to-integer}

Convert value to integer.

**Signature:** `(->integer x)`

**Examples:**
```lisp
(->integer 3.7)     ; => 3L (truncates toward zero)
(->integer "42")    ; => 42L
(->integer 5L)      ; => 5L (already integer)
```

**Note:** Signals an error for non-numeric strings. Note that `->integer` truncates toward zero (like R's `as.integer`), whereas `inexact->exact` rounds to nearest.

**See also:** [->number](#to-number), [->double](#to-double), [inexact->exact](#inexact-to-exact)

---

### ->double {#to-double}

Convert value to double.

**Signature:** `(->double x)`

**Examples:**
```lisp
(->double 5L)       ; => 5.0
(->double "3.14")   ; => 3.14
(->double 2.5)      ; => 2.5 (already double)
```

**See also:** [->number](#to-number), [->integer](#to-integer), [exact->inexact](#exact-to-inexact)

---

### ->complex {#to-complex}

Convert value to complex number (imaginary part = 0).

**Signature:** `(->complex x)`

**Examples:**
```lisp
(->complex 5)       ; => 5+0i
(->complex 3.14)    ; => 3.14+0i
(->complex "2+3i")  ; => 2+3i
```

**See also:** [->number](#to-number), [->double](#to-double), [make-rectangular](stdlib-math.html#make-rectangular) (in `math` module)

---

## Collection Conversions

### ->list {#to-list}

Convert value to list.

**Signature:** `(->list x)`

**Examples:**
```lisp
(->list (vector 1 2 3))  ; => (1 2 3)
(->list '(1 2 3))        ; => (1 2 3) (already a list)
```

**See also:** [->vector](#to-vector)

---

### ->vector {#to-vector}

Convert value to vector.

**Signature:** `(->vector x)`

**Examples:**
```lisp
(->vector '(1 2 3))   ; => [1] 1 2 3 (atomic vector)
(->vector (c 1 2 3))  ; => [1] 1 2 3 (already a vector)
```

**Note:** When given a list, `->vector` flattens it into an atomic vector using `unlist`. Nested lists will be recursively flattened.

**See also:** [->list](#to-list)

---

## Migration from predicates Module

Type conversion functions have always been in the `conversions` module.
However, the related numeric type predicates (`exact?`, `inexact?`, `integer?`, etc.)
were previously in the `predicates` module and are now in the `math` module:

```lisp
; Old (before reorganization)
(import predicates)

; New (after reorganization)
(import conversions)  ; for ->number, ->integer, exact->inexact, etc.
(import math)         ; for exact?, inexact?, integer?, real?, etc.
(import types)        ; for number?, string?, symbol?, etc.
```

The function signatures and behavior remain unchanged.

