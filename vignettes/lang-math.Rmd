---
title: "Standard Library: Math and Numeric Functions"
output: arl::arl_html_vignette
pkgdown:
  as_is: true
vignette: >
  %\VignetteIndexEntry{Standard Library: Math and Numeric Functions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!-- AUTO-GENERATED from inst/arl/ source files. Do not edit manually. -->
<!-- Regenerate with: make lang-docs -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
arl::register_knitr_engine()
```

## Complex Number Utilities {#section-complex-number-utilities}

### make-rectangular {#make-rectangular}

Construct a complex number from real and imaginary parts.

**Signature:** `(make-rectangular real imag)`

**Examples:**
```{arl}
(make-rectangular 3 4)  ; => 3+4i
```

```{arl, include=FALSE}
(assert-equal (complex :real 3 :imaginary 4) (make-rectangular 3 4))
```

**See also:** [make-polar](#make-polar), [real-part](#real-part), [imag-part](#imag-part)

---

### make-polar {#make-polar}

Construct a complex number from polar coordinates (magnitude and angle).

**Signature:** `(make-polar magnitude angle)`

**Examples:**
```{arl}
(make-polar 5 0)      ; => 5+0i
```

```{arl, include=FALSE}
(assert-equal (complex :modulus 5 :argument 0) (make-polar 5 0))
```

**See also:** [make-rectangular](#make-rectangular), [magnitude](#magnitude), [angle](#angle)

---

### real-part {#real-part}

Extract the real part of a complex number.

**Signature:** `(real-part z)`

**Examples:**
```{arl}
(real-part (make-rectangular 3 4))  ; => 3.0
```

```{arl, include=FALSE}
(assert-equal 3.0 (real-part (make-rectangular 3 4)))
```

**See also:** [imag-part](#imag-part), [make-rectangular](#make-rectangular)

---

### imag-part {#imag-part}

Extract the imaginary part of a complex number.

**Signature:** `(imag-part z)`

**Examples:**
```{arl}
(imag-part (make-rectangular 3 4))  ; => 4.0
```

```{arl, include=FALSE}
(assert-equal 4.0 (imag-part (make-rectangular 3 4)))
```

**See also:** [real-part](#real-part), [make-rectangular](#make-rectangular)

---

### magnitude {#magnitude}

Compute the magnitude (modulus) of a complex number.

**Signature:** `(magnitude z)`

**Examples:**
```{arl}
(magnitude (make-rectangular 3 4))  ; => 5.0
```

```{arl, include=FALSE}
(assert-equal 5.0 (magnitude (make-rectangular 3 4)))
```

**See also:** [angle](#angle), [make-polar](#make-polar)

---

### angle {#angle}

Compute the angle (argument) of a complex number.

**Signature:** `(angle z)`

**Examples:**
```{arl}
(angle (make-rectangular 1 1))  ; => 0.7853981633974483 (Ï€/4)
```

```{arl, include=FALSE}
(assert-true (< (abs (- (angle (make-rectangular 1 1)) (/ pi 4))) 1e-10))
```

**See also:** [magnitude](#magnitude), [make-polar](#make-polar)

---

## Arithmetic Helpers {#section-arithmetic-helpers}

### % {#percent}

Modulo helper using R %%.

**Signature:** `(% x y)`

**Examples:**
```{arl}
(% 10 3)   ; => 1
(% 17 5)   ; => 2
```

```{arl, include=FALSE}
(assert-equal 1 (% 10 3))
(assert-equal 2 (% 17 5))
```

---

### < {#lt}

Variadic less-than comparison. Checks all adjacent pairs.

**Signature:** `(< a b ...)`

**Examples:**
```{arl}
(< 1 2)     ; => #t
(< 1 2 3)   ; => #t
(< 1 3 2)   ; => #f
```

```{arl, include=FALSE}
(assert-true (< 1 2))
(assert-true (< 1 2 3))
(assert-false (< 1 3 2))
```

---

### > {#gt}

Variadic greater-than comparison. Checks all adjacent pairs.

**Signature:** `(> a b ...)`

**Examples:**
```{arl}
(> 3 2)     ; => #t
(> 3 2 1)   ; => #t
(> 3 1 2)   ; => #f
```

```{arl, include=FALSE}
(assert-true (> 3 2))
(assert-true (> 3 2 1))
(assert-false (> 3 1 2))
```

---

### <= {#lte}

Variadic less-than-or-equal comparison. Checks all adjacent pairs.

**Signature:** `(<= a b ...)`

**Examples:**
```{arl}
(<= 1 2)    ; => #t
(<= 1 1 2)  ; => #t
(<= 2 1)    ; => #f
```

```{arl, include=FALSE}
(assert-true (<= 1 2))
(assert-true (<= 1 1 2))
(assert-false (<= 2 1))
```

---

### >= {#gte}

Variadic greater-than-or-equal comparison. Checks all adjacent pairs.

**Signature:** `(>= a b ...)`

**Examples:**
```{arl}
(>= 3 2)    ; => #t
(>= 2 2 1)  ; => #t
(>= 1 2)    ; => #f
```

```{arl, include=FALSE}
(assert-true (>= 3 2))
(assert-true (>= 2 2 1))
(assert-false (>= 1 2))
```

---

### == {#num-eq-eq}

Variadic equality comparison. Checks all adjacent pairs.

**Signature:** `(== a b ...)`

**Examples:**
```{arl}
(== 1 1)     ; => #t
(== 1 1 1)   ; => #t
(== 1 2)     ; => #f
```

```{arl, include=FALSE}
(assert-true (== 1 1))
(assert-true (== 1 1 1))
(assert-false (== 1 2))
```

---

### = {#num-eq}

**Signature:** `(= a b ...)`

**Examples:**
```{arl}
(= 1 1)           ; => #t
(= "a" "a")       ; => #t
(= 1 2)           ; => #f
```

```{arl, include=FALSE}
(assert-true (= 1 1))
(assert-true (= "a" "a"))
(assert-false (= 1 2))
```

---

### + {#plus}

Variadic addition.

**Signature:** `(+ a ...)`

**Examples:**
```{arl}
(+ 1 2 3)    ; => 6
(+)           ; => 0
(+ 5)         ; => 5
```

```{arl, include=FALSE}
(assert-equal 6 (+ 1 2 3))
(assert-equal 0 (+))
(assert-equal 5 (+ 5))
```

---

### * {#star}

Variadic multiplication.

**Signature:** `(* a ...)`

**Examples:**
```{arl}
(* 2 3 4)    ; => 24
(*)           ; => 1
(* 5)         ; => 5
```

```{arl, include=FALSE}
(assert-equal 24 (* 2 3 4))
(assert-equal 1 (*))
(assert-equal 5 (* 5))
```

---

### - {#minus}

Variadic subtraction.

**Signature:** `(- a ...)`

**Examples:**
```{arl}
(- 10 3)     ; => 7
(- 5)        ; => -5
(- 10 3 2)   ; => 5
```

```{arl, include=FALSE}
(assert-equal 7 (- 10 3))
(assert-equal -5 (- 5))
(assert-equal 5 (- 10 3 2))
```

---

### / {#div}

Variadic division.

**Signature:** `(/ a ...)`

**Examples:**
```{arl}
(/ 10 2)     ; => 5
(/ 5)        ; => 0.2
(/ 100 5 2)  ; => 10
```

```{arl, include=FALSE}
(assert-equal 5 (/ 10 2))
(assert-equal 0.2 (/ 5))
(assert-equal 10 (/ 100 5 2))
```

---

### min {#min}

Variadic min.

**Signature:** `(min a ...)`

**Examples:**
```{arl}
(min 3 1 2)  ; => 1
```

```{arl, include=FALSE}
(assert-equal 1 (min 3 1 2))
```

---

### max {#max}

Variadic max.

**Signature:** `(max a ...)`

**Examples:**
```{arl}
(max 3 1 2)  ; => 3
```

```{arl, include=FALSE}
(assert-equal 3 (max 3 1 2))
```

---

### inc {#inc}

Increment numeric value by n (default 1).

**Signature:** `(inc x [n 1])`

**Examples:**
```{arl}
(inc 5)       ; => 6
(inc 5 3)     ; => 8
```

```{arl, include=FALSE}
(assert-equal 6 (inc 5))
(assert-equal 8 (inc 5 3))
```

**See also:** [dec](#dec)

---

### dec {#dec}

Decrement numeric value by n (default 1).

**Signature:** `(dec x [n 1])`

**Examples:**
```{arl}
(dec 5)       ; => 4
(dec 5 3)     ; => 2
```

```{arl, include=FALSE}
(assert-equal 4 (dec 5))
(assert-equal 2 (dec 5 3))
```

**See also:** [inc](#inc)

---

### clamp {#clamp}

Clamp numeric value x to the inclusive range [lo, hi].

**Signature:** `(clamp x lo hi)`

**Examples:**
```{arl}
(clamp 5 0 10)   ; => 5
(clamp -3 0 10)  ; => 0
(clamp 15 0 10)  ; => 10
```

```{arl, include=FALSE}
(assert-equal 5 (clamp 5 0 10))
(assert-equal 0 (clamp -3 0 10))
(assert-equal 10 (clamp 15 0 10))
```

**See also:** [within?](#within-p)

---

### within? {#within-p}

Return #t if x is within the inclusive range [lo, hi].

**Signature:** `(within? x lo hi)`

**Examples:**
```{arl}
(within? 5 0 10)   ; => #t
(within? -3 0 10)  ; => #f
(within? 10 0 10)  ; => #t
```

```{arl, include=FALSE}
(assert-true (within? 5 0 10))
(assert-false (within? -3 0 10))
(assert-true (within? 10 0 10))
```

**See also:** [clamp](#clamp)

---

## Rounding and Truncation {#section-rounding-and-truncation}

### abs {#abs}

Return absolute value of x.

**Signature:** `(abs x)`

**Examples:**
```{arl}
(abs -5)      ; => 5
(abs 5)       ; => 5
```

```{arl, include=FALSE}
(assert-equal 5 (abs -5))
(assert-equal 5 (abs 5))
```

---

### floor {#floor}

Return floor (round down) of x.

**Signature:** `(floor x)`

**Examples:**
```{arl}
(floor 3.7)   ; => 3
(floor -3.2)  ; => -4
```

```{arl, include=FALSE}
(assert-equal 3 (floor 3.7))
(assert-equal -4 (floor -3.2))
```

**See also:** [ceiling](#ceiling), [truncate](#truncate), [round](#round)

---

### ceiling {#ceiling}

Return ceiling (round up) of x.

**Signature:** `(ceiling x)`

**Examples:**
```{arl}
(ceiling 3.2)  ; => 4
(ceiling -3.7) ; => -3
```

```{arl, include=FALSE}
(assert-equal 4 (ceiling 3.2))
(assert-equal -3 (ceiling -3.7))
```

**See also:** [floor](#floor), [truncate](#truncate), [round](#round)

---

### truncate {#truncate}

Return truncated (towards zero) value of x.

**Signature:** `(truncate x)`

**Examples:**
```{arl}
(truncate 3.7)  ; => 3
(truncate -3.7) ; => -3
```

```{arl, include=FALSE}
(assert-equal 3 (truncate 3.7))
(assert-equal -3 (truncate -3.7))
```

**See also:** [floor](#floor), [ceiling](#ceiling), [round](#round)

---

### round {#round}

Round x to given number of decimal places (default 0).

**Signature:** `(round x [digits 0])`

**Examples:**
```{arl}
(round 3.567)    ; => 4
(round 3.567 2)  ; => 3.57
```

```{arl, include=FALSE}
(assert-equal 4 (round 3.567))
(assert-equal 3.57 (round 3.567 2))
```

**See also:** [floor](#floor), [ceiling](#ceiling), [truncate](#truncate)

---

### signum {#signum}

Return sign of x: -1, 0, or 1.

**Signature:** `(signum x)`

**Examples:**
```{arl}
(signum 42)    ; => 1
(signum -5)    ; => -1
(signum 0)     ; => 0
```

```{arl, include=FALSE}
(assert-equal 1 (signum 42))
(assert-equal -1 (signum -5))
(assert-equal 0 (signum 0))
```

---

## Power, Roots, and Logarithms {#section-power-roots-and-logarithms}

### sqrt {#sqrt}

Return square root of x.

**Signature:** `(sqrt x)`

**Examples:**
```{arl}
(sqrt 16)     ; => 4
(sqrt 2)      ; => 1.414...
```

```{arl, include=FALSE}
(assert-equal 4 (sqrt 16))
```

**See also:** [expt](#expt)

---

### expt {#expt}

Return base raised to power.

**Signature:** `(expt base power)`

**Examples:**
```{arl}
(expt 2 10)   ; => 1024
(expt 3 3)    ; => 27
```

```{arl, include=FALSE}
(assert-equal 1024 (expt 2 10))
(assert-equal 27 (expt 3 3))
```

**See also:** [sqrt](#sqrt)

---

### log {#log}

Return logarithm of x. With one argument,
returns natural log. With two, returns log to the given base.

**Signature:** `(log x [base #nil])`

**Examples:**
```{arl}
(log 1)           ; => 0
(log (exp 1))     ; => 1.0
(log 100 10)      ; => 2.0
```

```{arl, include=FALSE}
(assert-equal 0 (log 1))
(assert-equal 1.0 (log (exp 1)))
(assert-equal 2.0 (log 100 10))
```

**See also:** [exp](#exp), [log10](#log10), [log2](#log2)

---

### exp {#exp}

Return e raised to power x.

**Signature:** `(exp x)`

**Examples:**
```{arl}
(exp 0)       ; => 1
(exp 1)       ; => 2.718...
```

```{arl, include=FALSE}
(assert-equal 1 (exp 0))
```

**See also:** [log](#log)

---

### log10 {#log10}

Return base-10 logarithm of x.

**Signature:** `(log10 x)`

**Examples:**
```{arl}
(log10 100)   ; => 2
(log10 1000)  ; => 3
```

```{arl, include=FALSE}
(assert-equal 2 (log10 100))
(assert-equal 3 (log10 1000))
```

**See also:** [log](#log), [log2](#log2)

---

### log2 {#log2}

Return base-2 logarithm of x.

**Signature:** `(log2 x)`

**Examples:**
```{arl}
(log2 8)      ; => 3
(log2 1024)   ; => 10
```

```{arl, include=FALSE}
(assert-equal 3 (log2 8))
(assert-equal 10 (log2 1024))
```

**See also:** [log](#log), [log10](#log10)

---

## Trigonometric Functions {#section-trigonometric-functions}

### sin {#sin}

Return sine of x (in radians).

**Signature:** `(sin x)`

**Examples:**
```{arl}
(sin 0)       ; => 0
(cos 0)       ; => 1
(tan 0)       ; => 0
```

```{arl, include=FALSE}
(assert-equal 0 (sin 0))
(assert-equal 1 (cos 0))
(assert-equal 0 (tan 0))
```

---

### cos {#cos}

Return cosine of x (in radians).

**Signature:** `(cos x)`

---

### tan {#tan}

Return tangent of x (in radians).

**Signature:** `(tan x)`

---

### asin {#asin}

Return arcsine of x (in radians).

**Signature:** `(asin x)`

**Examples:**
```{arl}
(asin 1)      ; => 1.5707... (pi/2)
(acos 1)      ; => 0
(atan 1)      ; => 0.7853... (pi/4)
```

```{arl, include=FALSE}
(assert-true (< (abs (- (asin 1) (/ pi 2))) 1e-10))
(assert-true (< (abs (acos 1)) 1e-10))
(assert-true (< (abs (- (atan 1) (/ pi 4))) 1e-10))
```

---

### acos {#acos}

Return arccosine of x (in radians).

**Signature:** `(acos x)`

---

### atan {#atan}

Return arctangent of x (in radians).

**Signature:** `(atan x)`

---

### atan2 {#atan2}

Return arctangent of y/x (in radians), respecting quadrant.

**Signature:** `(atan2 y x)`

**Examples:**
```{arl}
(atan2 1 1)   ; => 0.7853... (pi/4)
(atan2 -1 -1) ; => -2.356... (-3*pi/4)
```

```{arl, include=FALSE}
(assert-true (< (abs (- (atan2 1 1) (/ pi 4))) 1e-10))
```

---

## Integer Division {#section-integer-division}

### quotient {#quotient}

Return integer quotient of x divided by y.

**Signature:** `(quotient x y)`

**Examples:**
```{arl}
(quotient 10 3)   ; => 3
(quotient -10 3)  ; => -3
```

```{arl, include=FALSE}
(assert-equal 3 (quotient 10 3))
(assert-equal -3 (quotient -10 3))
```

**See also:** [remainder](#remainder), [modulo](#modulo)

---

### remainder {#remainder}

Return remainder of x divided by y (same sign as x).

**Signature:** `(remainder x y)`

**Examples:**
```{arl}
(remainder 10 3)   ; => 1
(remainder -10 3)  ; => -1
```

```{arl, include=FALSE}
(assert-equal 1 (remainder 10 3))
(assert-equal -1 (remainder -10 3))
```

**See also:** [quotient](#quotient), [modulo](#modulo)

---

### modulo {#modulo}

Return modulo of x and y (same sign as y).

**Signature:** `(modulo x y)`

**Examples:**
```{arl}
(modulo 10 3)    ; => 1
(modulo -10 3)   ; => 2
```

```{arl, include=FALSE}
(assert-equal 1 (modulo 10 3))
(assert-equal 2 (modulo -10 3))
```

**See also:** [quotient](#quotient), [remainder](#remainder), [%](#percent)

---

## Number Theory {#section-number-theory}

### gcd {#gcd}

Return greatest common divisor of arguments.

**Signature:** `(gcd a b ...)`

**Examples:**
```{arl}
(gcd 12 8)      ; => 4
(gcd 12 8 6)    ; => 2
```

```{arl, include=FALSE}
(assert-equal 4 (gcd 12 8))
(assert-equal 2 (gcd 12 8 6))
```

**See also:** [lcm](#lcm)

---

### lcm {#lcm}

Return least common multiple of arguments.

**Signature:** `(lcm a b ...)`

**Examples:**
```{arl}
(lcm 4 6)       ; => 12
(lcm 3 4 5)     ; => 60
```

```{arl, include=FALSE}
(assert-equal 12 (lcm 4 6))
(assert-equal 60 (lcm 3 4 5))
```

**See also:** [gcd](#gcd)

---

