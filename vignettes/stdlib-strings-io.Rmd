---
title: "Standard Library: Strings, I/O, and Arithmetic"
output:
  rmarkdown::html_vignette:
    highlight: null
vignette: >
  %\VignetteIndexEntry{Standard Library: Strings, I/O, and Arithmetic}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!-- AUTO-GENERATED from inst/rye/ source files. Do not edit manually. -->
<!-- Regenerate with: make stdlib-docs -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

## String Operations

Core string manipulation functions: joining, splitting, searching,
replacing, and accessing characters. Most search/replace functions
default to fixed (literal) matching; pass `:fixed #f` for regex.

### string-join

**Signature:** `(string-join x [sep ""])`

**Examples:**
```lisp
(string-join (list "a" "b" "c") "-")  ; => "a-b-c"
(string-join (list "x" "y" "z"))      ; => "xyz"
(string-join (list "hello" "world") " ")  ; => "hello world"
```

**See also:** string-split, str

---

### string-split

**Signature:** `(string-split x [sep ""])`

**Examples:**
```lisp
(string-split "a-b-c" "-")  ; => ("a" "b" "c")
(string-split "hello" "")   ; => ("h" "e" "l" "l" "o")
```

**See also:** string-join

---

### trim

Trim leading and trailing whitespace.

**Signature:** `(trim str)`

**Examples:**
```lisp
(trim "  hello  ")  ; => "hello"
(trim "no spaces")  ; => "no spaces"
```

---

### format

Format string with sprintf.

**Signature:** `(format fmt args...)`

**Examples:**
```lisp
(format "Hello, %s!" "world")   ; => "Hello, world!"
(format "%d + %d = %d" 1 2 3)   ; => "1 + 2 = 3"
(format "%.2f" 3.14159)          ; => "3.14"
```

**See also:** str

---

### string-contains?

**Signature:** `(string-contains? str pattern [fixed #t])`

**Examples:**
```lisp
(string-contains? "hello world" "world")       ; => #t
(string-contains? "hello world" "xyz")          ; => #f
(string-contains? "hello world" "o.*d" :fixed #f)  ; => #t
```

**See also:** string-match?, string-find

---

### string-match?

**Signature:** `(string-match? str pattern [fixed #f])`

**Examples:**
```lisp
(string-match? "hello" "^h.*o$" :fixed #f)  ; => #t
(string-match? "hello" "xyz" :fixed #f)      ; => #f
(string-match? "hello" "hello" :fixed #t)     ; => #t
```

**See also:** string-contains?, string-find

---

### string-find

**Signature:** `(string-find str pattern [fixed #t])`

**Examples:**
```lisp
(string-find "hello world" "world")  ; => 6
(string-find "hello world" "xyz")    ; => #nil
(string-find "hello" "l")            ; => 2
```

**See also:** string-contains?, string-match?

---

### string-replace

**Signature:** `(string-replace str pattern replacement [fixed #t])`

**Examples:**
```lisp
(string-replace "hello world" "world" "there")    ; => "hello there"
(string-replace "aaa" "a" "b")                     ; => "baa"
```

**See also:** string-replace-all

---

### string-replace-all

**Signature:** `(string-replace-all str pattern replacement [fixed #t])`

**Examples:**
```lisp
(string-replace-all "aaa" "a" "b")   ; => "bbb"
(string-replace-all "hello world world" "world" "there")  ; => "hello there there"
```

**See also:** string-replace

---

### string-append

Concatenate strings together.

**Signature:** `(string-append args...)`

**Examples:**
```lisp
(string-append "hello" " " "world")  ; => "hello world"
(string-append "a" "b" "c")          ; => "abc"
(string-append)                       ; => ""
```

**See also:** str, string-join

---

### ->string

Convert value to string representation.

**Signature:** `(->string x)`

**Examples:**
```lisp
(->string 42)     ; => "42"
(->string #t)     ; => "TRUE"
(->string 3.14)   ; => "3.14"
```

---

### char-at

Get character at index (0-based).

**Signature:** `(char-at str index)`

**Examples:**
```lisp
(char-at "hello" 0)  ; => "h"
(char-at "hello" 4)  ; => "o"
```

**See also:** string-ref, substring

---

### string-ref

Scheme-style character accessor (alias for char-at).

**Signature:** `(string-ref str index)`

**See also:** char-at

---

### substring

Extract substring from start (inclusive) to end (exclusive), 0-based.

**Signature:** `(substring str start end)`

**Examples:**
```lisp
(substring "hello" 1 4)  ; => "ell"
(substring "hello" 0 5)  ; => "hello"
(substring "hello" 2 2)  ; => ""
```

**See also:** char-at

---

### string-length

Return length of string.

**Signature:** `(string-length str)`

**Examples:**
```lisp
(string-length "hello")  ; => 5
(string-length "")       ; => 0
```

---

## String Case

Functions for converting string case.

### string-upcase

Convert string to uppercase.

**Signature:** `(string-upcase str)`

**Examples:**
```lisp
(string-upcase "hello")  ; => "HELLO"
(string-upcase "Hello World")  ; => "HELLO WORLD"
```

**See also:** string-downcase, string-titlecase

---

### string-downcase

Convert string to lowercase.

**Signature:** `(string-downcase str)`

**Examples:**
```lisp
(string-downcase "HELLO")  ; => "hello"
(string-downcase "Hello World")  ; => "hello world"
```

**See also:** string-upcase, string-titlecase

---

### string-titlecase

Convert string to title case (capitalize first letter of each word).

**Signature:** `(string-titlecase str)`

**Examples:**
```lisp
(string-titlecase "hello world")  ; => "Hello World"
(string-titlecase "HELLO WORLD")  ; => "Hello World"
```

**See also:** string-upcase, string-downcase

---

## String Comparison

Lexicographic comparison functions for strings.

### string<?

Lexicographic less-than comparison.

**Signature:** `(string<? a b)`

**Examples:**
```lisp
(string<? "abc" "def")  ; => #t
(string<? "def" "abc")  ; => #f
(string<? "abc" "abc")  ; => #f
```

---

### string>?

Lexicographic greater-than comparison.

**Signature:** `(string>? a b)`

**Examples:**
```lisp
(string>? "def" "abc")  ; => #t
(string>? "abc" "def")  ; => #f
(string>? "abc" "abc")  ; => #f
```

---

### string=?

String equality comparison.

**Signature:** `(string=? a b)`

**Examples:**
```lisp
(string=? "hello" "hello")  ; => #t
(string=? "hello" "world")  ; => #f
```

---

### string<=?

Lexicographic less-than-or-equal comparison.

**Signature:** `(string<=? a b)`

**Examples:**
```lisp
(string<=? "abc" "abc")  ; => #t
(string<=? "abc" "def")  ; => #t
(string<=? "def" "abc")  ; => #f
```

---

### string>=?

Lexicographic greater-than-or-equal comparison.

**Signature:** `(string>=? a b)`

**Examples:**
```lisp
(string>=? "abc" "abc")  ; => #t
(string>=? "def" "abc")  ; => #t
(string>=? "abc" "def")  ; => #f
```

---

## String/List Conversion

Functions for converting between strings, lists, and numbers.

### string->list

Convert string to list of characters.

**Signature:** `(string->list str)`

**Examples:**
```lisp
(string->list "hello")  ; => ("h" "e" "l" "l" "o")
(string->list "")       ; => ()
```

**See also:** list->string

---

### list->string

Convert list of characters to string.

**Signature:** `(list->string lst)`

**Examples:**
```lisp
(list->string (list "h" "e" "l" "l" "o"))  ; => "hello"
(list->string (list))                        ; => ""
```

**See also:** string->list

---

### number->string

Convert number to string with optional base (2-36).

**Signature:** `(number->string num base-args...)`

**Examples:**
```lisp
(number->string 42)       ; => "42"
(number->string 255 16)   ; => "ff"
(number->string 10 2)     ; => "1010"
(number->string 8 8)      ; => "10"
```

**See also:** string->number

---

### string->number

Parse string to number with optional base (2-36).

**Signature:** `(string->number str base-args...)`

**Examples:**
```lisp
(string->number "42")       ; => 42
(string->number "3.14")     ; => 3.14
(string->number "ff" 16)    ; => 255
(string->number "1010" 2)   ; => 10
(string->number "bad")      ; => #f
```

**See also:** number->string

---

## Console I/O

Functions for reading from standard input and writing to standard output.

### read-line

**Signature:** `(read-line [prompt ""])`

**Examples:**
```lisp
(read-line)              ; waits for user input, returns string
(read-line "Name? ")     ; prints prompt, then waits for input
```

---

### read

Parse Rye expression from string.

**Signature:** `(read source)`

**Examples:**
```lisp
(read "(+ 1 2)")  ; => (+ 1 2) (unevaluated)
```

**See also:** read-from-string, eval

---

### read-from-string

**Signature:** `(read-from-string x)`

**See also:** read

---

### print

Print value in Rye representation.

**Signature:** `(print x)`

**Examples:**
```lisp
(print 42)              ; prints "42" and returns 42
(print (list 1 2 3))    ; prints "(1 2 3)" and returns the list
```

**See also:** display, write-string

---

### write-string

Write string to output (alias for cat).

**Signature:** `(write-string x)`

**Examples:**
```lisp
(write-string "hello")  ; outputs "hello" with no newline
```

**See also:** display, newline

---

### newline

Output a newline.

**Signature:** `(newline)`

**See also:** display, write-string

---

## File I/O

Functions for reading from and writing to files.

### read-file

**Signature:** `(read-file path [encoding "UTF-8"])`

**Examples:**
```lisp
(read-file "data.txt")                  ; => file contents as string
(read-file "data.txt" "latin1")         ; read with specific encoding
```

---

### read-lines

**Signature:** `(read-lines path [encoding "UTF-8"])`

**Examples:**
```lisp
(read-lines "data.txt")  ; => ("line1" "line2" "line3")
```

---

### write-file

**Signature:** `(write-file path content [sep "\n"])`

**Examples:**
```lisp
(write-file "out.txt" "hello world")
(write-file "out.txt" (list "line1" "line2"))
```

---

### write-lines

**Signature:** `(write-lines path lines [encoding "UTF-8"])`

**Examples:**
```lisp
(write-lines "out.txt" (list "line1" "line2" "line3"))
```

---

### append-file

**Signature:** `(append-file path content [sep "\n"])`

**Examples:**
```lisp
(append-file "log.txt" "new entry\n")
```

---

### file-exists?

Return #t if file exists.

**Signature:** `(file-exists? path)`

**Examples:**
```lisp
(file-exists? "data.txt")    ; => #t or #f
(file-exists? "nope.txt")    ; => #f
```

---

### file-size

Return size of file in bytes.

**Signature:** `(file-size path)`

**Examples:**
```lisp
(file-size "data.txt")       ; => 1024 (bytes)
```

---

### file-modified-time

Return file modification time as numeric timestamp.

**Signature:** `(file-modified-time path)`

**Examples:**
```lisp
(file-modified-time "data.txt")  ; => 1700000000 (numeric timestamp)
```

---

### file-delete

Delete file. Return #t on success.

**Signature:** `(file-delete path)`

**Examples:**
```lisp
(file-delete "temp.txt")     ; => #t
```

---

## Directory Operations

Functions for querying and manipulating directories.

### directory-exists?

Return #t if directory exists.

**Signature:** `(directory-exists? path)`

**Examples:**
```lisp
(directory-exists? "/tmp")         ; => #t
(directory-exists? "/nonexistent") ; => #f
```

---

### directory-list

**Signature:** `(directory-list path [full.names #f])`

**Examples:**
```lisp
(directory-list ".")               ; => ("file1.txt" "file2.txt")
(directory-list "." #t)            ; => ("./file1.txt" "./file2.txt")
```

---

### directory-delete

**Signature:** `(directory-delete path [recursive #t])`

**Examples:**
```lisp
(directory-delete "/tmp/mydir")    ; => #t
```

---

## Environment and System

Functions for environment variables, shell commands, and process control.

### getenv

Get environment variable value. Return #nil if not set.

**Signature:** `(getenv name)`

**Examples:**
```lisp
(getenv "HOME")           ; => "/home/user"
(getenv "UNDEFINED_VAR")  ; => #nil
```

**See also:** setenv

---

### setenv

Set environment variable.

**Signature:** `(setenv name value)`

**Examples:**
```lisp
(setenv "MY_VAR" "hello")  ; => #t
```

**See also:** getenv

---

### system

Execute shell command. Return exit status.

**Signature:** `(system command)`

**Examples:**
```lisp
(system "ls")              ; => 0 (exit status)
```

**See also:** system-output

---

### system-output

Execute shell command and capture output as string.

**Signature:** `(system-output command)`

**Examples:**
```lisp
(system-output "whoami")   ; => "username"
(system-output "echo hi")  ; => "hi"
```

**See also:** system

---

### exit

**Signature:** `(exit status)`

---

## Display and Output

Functions for formatting and printing values.

### display

Print value with newline.

**Signature:** `(display x)`

**Examples:**
```lisp
(display 42)             ; prints "42" with newline
(display "hello")        ; prints "hello" with newline
(display (list 1 2 3))   ; prints "1 2 3" with newline
```

**See also:** println, trace

---

### println

Alias for display.

**Signature:** `(println x)`

**See also:** display

---

### str

Concatenate formatted values into string.

**Signature:** `(str args...)`

**Examples:**
```lisp
(str "hello" " " "world")  ; => "hello world"
(str 1 "+" 2)              ; => "1+2"
```

**See also:** string-join, format

---

### trace

Print value and return it.

**Signature:** `(trace x rest...)`

**Examples:**
```lisp
(trace 42)               ; prints "42", returns 42
(trace 42 "result")      ; prints "result: 42", returns 42
```

**See also:** warn, display

---

