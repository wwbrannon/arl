---
title: "Standard Library: Strings, I/O, and Arithmetic"
output:
  rmarkdown::html_vignette:
    highlight: null
vignette: >
  %\VignetteIndexEntry{Standard Library: Strings, I/O, and Arithmetic}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

<!-- AUTO-GENERATED from inst/rye/ source files. Do not edit manually. -->
<!-- Regenerate with: make stdlib-docs -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

## String Operations

Core string manipulation functions: joining, splitting, searching,
replacing, and accessing characters. Most search/replace functions
default to fixed (literal) matching; pass `:fixed #f` for regex.

### string-join {#string-join}

Join strings with separator.

**Signature:** `(string-join x [sep ""])`

**Examples:**
```lisp
(string-join (list "a" "b" "c") "-")  ; => "a-b-c"
(string-join (list "x" "y" "z"))      ; => "xyz"
(string-join (list "hello" "world") " ")  ; => "hello world"
```

**See also:** [string-split](#string-split), [str](#str)

---

### string-split {#string-split}

Split string on separator.

**Signature:** `(string-split x [sep ""])`

**Examples:**
```lisp
(string-split "a-b-c" "-")  ; => ("a" "b" "c")
(string-split "hello" "")   ; => ("h" "e" "l" "l" "o")
```

**See also:** [string-join](#string-join)

---

### trim {#trim}

Trim leading and trailing whitespace.

**Signature:** `(trim str)`

**Examples:**
```lisp
(trim "  hello  ")  ; => "hello"
(trim "no spaces")  ; => "no spaces"
```

---

### format {#format}

Format string with sprintf.

**Signature:** `(format fmt args...)`

**Examples:**
```lisp
(format "Hello, %s!" "world")   ; => "Hello, world!"
(format "%d + %d = %d" 1 2 3)   ; => "1 + 2 = 3"
(format "%.2f" 3.14159)          ; => "3.14"
```

**See also:** [str](#str)

---

### string-contains? {#string-contains}

Check pattern in string (fixed).

**Signature:** `(string-contains? str pattern [fixed #t])`

**Examples:**
```lisp
(string-contains? "hello world" "world")       ; => #t
(string-contains? "hello world" "xyz")          ; => #f
(string-contains? "hello world" "o.*d" :fixed #f)  ; => #t
```

**See also:** [string-match?](#string-match), [string-find](#string-find)

---

### string-match? {#string-match}

Check pattern in string (regex).

**Signature:** `(string-match? str pattern [fixed #f])`

**Examples:**
```lisp
(string-match? "hello" "^h.*o$" :fixed #f)  ; => #t
(string-match? "hello" "xyz" :fixed #f)      ; => #f
(string-match? "hello" "hello" :fixed #t)     ; => #t
```

**See also:** [string-contains?](#string-contains), [string-find](#string-find)

---

### string-find {#string-find}

Find pattern index or #nil.

**Signature:** `(string-find str pattern [fixed #t])`

**Examples:**
```lisp
(string-find "hello world" "world")  ; => 6
(string-find "hello world" "xyz")    ; => #nil
(string-find "hello" "l")            ; => 2
```

**See also:** [string-contains?](#string-contains), [string-match?](#string-match)

---

### string-replace {#string-replace}

Replace first match. Default is literal (fixed); pass :fixed #f for regex.

**Signature:** `(string-replace str pattern replacement [fixed #t])`

**Examples:**
```lisp
(string-replace "hello world" "world" "there")    ; => "hello there"
(string-replace "aaa" "a" "b")                     ; => "baa"
```

**See also:** [string-replace-all](#string-replace-all)

---

### string-replace-all {#string-replace-all}

Replace all matches. Default is literal (fixed); pass :fixed #f for regex.

**Signature:** `(string-replace-all str pattern replacement [fixed #t])`

**Examples:**
```lisp
(string-replace-all "aaa" "a" "b")   ; => "bbb"
(string-replace-all "hello world world" "world" "there")  ; => "hello there there"
```

**See also:** [string-replace](#string-replace)

---

### string-append {#string-append}

Concatenate strings together.

**Signature:** `(string-append args...)`

**Examples:**
```lisp
(string-append "hello" " " "world")  ; => "hello world"
(string-append "a" "b" "c")          ; => "abc"
(string-append)                       ; => ""
```

**See also:** [str](#str), [string-join](#string-join)

---

### ->string {#to-string}

Convert value to string representation.

**Signature:** `(->string x)`

**Examples:**
```lisp
(->string 42)     ; => "42"
(->string #t)     ; => "TRUE"
(->string 3.14)   ; => "3.14"
```

---

### char-at {#char-at}

Get character at index (0-based).

**Signature:** `(char-at str index)`

**Examples:**
```lisp
(char-at "hello" 0)  ; => "h"
(char-at "hello" 4)  ; => "o"
```

**See also:** [string-ref](#string-ref), [substring](#substring)

---

### string-ref {#string-ref}

Scheme-style character accessor (alias for char-at).

**Signature:** `(string-ref str index)`

**See also:** [char-at](#char-at)

---

### substring {#substring}

Extract substring from start (inclusive) to end (exclusive), 0-based.

**Signature:** `(substring str start end)`

**Examples:**
```lisp
(substring "hello" 1 4)  ; => "ell"
(substring "hello" 0 5)  ; => "hello"
(substring "hello" 2 2)  ; => ""
```

**See also:** [char-at](#char-at)

---

### string-length {#string-length}

Return length of string.

**Signature:** `(string-length str)`

**Examples:**
```lisp
(string-length "hello")  ; => 5
(string-length "")       ; => 0
```

---

## String Case

Functions for converting string case.

### string-upcase {#string-upcase}

Convert string to uppercase.

**Signature:** `(string-upcase str)`

**Examples:**
```lisp
(string-upcase "hello")  ; => "HELLO"
(string-upcase "Hello World")  ; => "HELLO WORLD"
```

**See also:** [string-downcase](#string-downcase), [string-titlecase](#string-titlecase)

---

### string-downcase {#string-downcase}

Convert string to lowercase.

**Signature:** `(string-downcase str)`

**Examples:**
```lisp
(string-downcase "HELLO")  ; => "hello"
(string-downcase "Hello World")  ; => "hello world"
```

**See also:** [string-upcase](#string-upcase), [string-titlecase](#string-titlecase)

---

### string-titlecase {#string-titlecase}

Convert string to title case (capitalize first letter of each word).

**Signature:** `(string-titlecase str)`

**Examples:**
```lisp
(string-titlecase "hello world")  ; => "Hello World"
(string-titlecase "HELLO WORLD")  ; => "Hello World"
```

**See also:** [string-upcase](#string-upcase), [string-downcase](#string-downcase)

---

## String Comparison

Lexicographic comparison functions for strings.

### string<? {#string-lt}

Lexicographic less-than comparison.

**Signature:** `(string<? a b)`

**Examples:**
```lisp
(string<? "abc" "def")  ; => #t
(string<? "def" "abc")  ; => #f
(string<? "abc" "abc")  ; => #f
```

---

### string>? {#string-gt}

Lexicographic greater-than comparison.

**Signature:** `(string>? a b)`

**Examples:**
```lisp
(string>? "def" "abc")  ; => #t
(string>? "abc" "def")  ; => #f
(string>? "abc" "abc")  ; => #f
```

---

### string=? {#string-eq}

String equality comparison.

**Signature:** `(string=? a b)`

**Examples:**
```lisp
(string=? "hello" "hello")  ; => #t
(string=? "hello" "world")  ; => #f
```

---

### string<=? {#string-lte}

Lexicographic less-than-or-equal comparison.

**Signature:** `(string<=? a b)`

**Examples:**
```lisp
(string<=? "abc" "abc")  ; => #t
(string<=? "abc" "def")  ; => #t
(string<=? "def" "abc")  ; => #f
```

---

### string>=? {#string-gte}

Lexicographic greater-than-or-equal comparison.

**Signature:** `(string>=? a b)`

**Examples:**
```lisp
(string>=? "abc" "abc")  ; => #t
(string>=? "def" "abc")  ; => #t
(string>=? "abc" "def")  ; => #f
```

---

## String/List Conversion

Functions for converting between strings, lists, and numbers.

### string->list {#string-to-list}

Convert string to list of characters.

**Signature:** `(string->list str)`

**Examples:**
```lisp
(string->list "hello")  ; => ("h" "e" "l" "l" "o")
(string->list "")       ; => ()
```

**See also:** [list->string](#list-to-string)

---

### list->string {#list-to-string}

Convert list of characters to string.

**Signature:** `(list->string lst)`

**Examples:**
```lisp
(list->string (list "h" "e" "l" "l" "o"))  ; => "hello"
(list->string (list))                        ; => ""
```

**See also:** [string->list](#string-to-list)

---

### number->string {#number-to-string}

Convert number to string with optional base (2-36).

**Signature:** `(number->string num base-args...)`

**Examples:**
```lisp
(number->string 42)       ; => "42"
(number->string 255 16)   ; => "ff"
(number->string 10 2)     ; => "1010"
(number->string 8 8)      ; => "10"
```

**See also:** [string->number](#string-to-number)

---

### string->number {#string-to-number}

Parse string to number with optional base (2-36).

**Signature:** `(string->number str base-args...)`

**Examples:**
```lisp
(string->number "42")       ; => 42
(string->number "3.14")     ; => 3.14
(string->number "ff" 16)    ; => 255
(string->number "1010" 2)   ; => 10
(string->number "bad")      ; => #f
```

**See also:** [number->string](#number-to-string)

---

## Console I/O

Functions for reading from standard input and writing to standard output.

### read-line {#read-line}

Read single line from stdin.

**Signature:** `(read-line [prompt ""])`

**Examples:**
```lisp
(read-line)              ; waits for user input, returns string
(read-line "Name? ")     ; prints prompt, then waits for input
```

---

### read-from-string {#read-from-string}

**Signature:** `(read-from-string x)`

**See also:** [read](stdlib-macro-eval-interop.html#read)

---

### print {#print}

Print value in Rye representation.

**Signature:** `(print x)`

**Examples:**
```lisp
(print 42)              ; prints "42" and returns 42
(print (list 1 2 3))    ; prints "(1 2 3)" and returns the list
```

**See also:** [display](#display), [write-string](#write-string)

---

### write-string {#write-string}

Write string to output (alias for cat).

**Signature:** `(write-string x)`

**Examples:**
```lisp
(write-string "hello")  ; outputs "hello" with no newline
```

**See also:** [display](#display), [newline](#newline)

---

### newline {#newline}

Output a newline.

**Signature:** `(newline)`

**See also:** [display](#display), [write-string](#write-string)

---

## File I/O

Functions for reading from and writing to files.

### read-file {#read-file}

Read entire file as string.

**Signature:** `(read-file path [encoding "UTF-8"])`

**Examples:**
```lisp
(read-file "data.txt")                  ; => file contents as string
(read-file "data.txt" "latin1")         ; read with specific encoding
```

---

### read-lines {#read-lines}

Read file into list of lines.

**Signature:** `(read-lines path [encoding "UTF-8"])`

**Examples:**
```lisp
(read-lines "data.txt")  ; => ("line1" "line2" "line3")
```

---

### write-file {#write-file}

Write string or lines to file.

**Signature:** `(write-file path content [sep "\n"])`

**Examples:**
```lisp
(write-file "out.txt" "hello world")
(write-file "out.txt" (list "line1" "line2"))
```

---

### write-lines {#write-lines}

Write list of lines to file.

**Signature:** `(write-lines path lines [encoding "UTF-8"])`

**Examples:**
```lisp
(write-lines "out.txt" (list "line1" "line2" "line3"))
```

---

### append-file {#append-file}

Append content to file.

**Signature:** `(append-file path content [sep "\n"])`

**Examples:**
```lisp
(append-file "log.txt" "new entry\n")
```

---

### file-exists? {#file-exists}

Return #t if file exists.

**Signature:** `(file-exists? path)`

**Examples:**
```lisp
(file-exists? "data.txt")    ; => #t or #f
(file-exists? "nope.txt")    ; => #f
```

---

### file-size {#file-size}

Return size of file in bytes.

**Signature:** `(file-size path)`

**Examples:**
```lisp
(file-size "data.txt")       ; => 1024 (bytes)
```

---

### file-modified-time {#file-modified-time}

Return file modification time as numeric timestamp.

**Signature:** `(file-modified-time path)`

**Examples:**
```lisp
(file-modified-time "data.txt")  ; => 1700000000 (numeric timestamp)
```

---

### file-delete {#file-delete}

Delete file. Return #t on success.

**Signature:** `(file-delete path)`

**Examples:**
```lisp
(file-delete "temp.txt")     ; => #t
```

---

## Directory Operations

Functions for querying and manipulating directories.

### directory-exists? {#directory-exists}

Return #t if directory exists.

**Signature:** `(directory-exists? path)`

**Examples:**
```lisp
(directory-exists? "/tmp")         ; => #t
(directory-exists? "/nonexistent") ; => #f
```

---

### directory-list {#directory-list}

List directory contents as list of filenames.

**Signature:** `(directory-list path [full.names #f])`

**Examples:**
```lisp
(directory-list ".")               ; => ("file1.txt" "file2.txt")
(directory-list "." #t)            ; => ("./file1.txt" "./file2.txt")
```

---

### directory-delete {#directory-delete}

Delete directory. Return #t on success.

**Signature:** `(directory-delete path [recursive #t])`

**Examples:**
```lisp
(directory-delete "/tmp/mydir")    ; => #t
```

---

## Environment and System

Functions for environment variables, shell commands, and process control.

### getenv {#getenv}

Get environment variable value. Return #nil if not set.

**Signature:** `(getenv name)`

**Examples:**
```lisp
(getenv "HOME")           ; => "/home/user"
(getenv "UNDEFINED_VAR")  ; => #nil
```

**See also:** [setenv](#setenv)

---

### setenv {#setenv}

Set environment variable.

**Signature:** `(setenv name value)`

**Examples:**
```lisp
(setenv "MY_VAR" "hello")  ; => #t
```

**See also:** [getenv](#getenv)

---

### system {#system}

Execute shell command. Return exit status.

**Signature:** `(system command)`

**Examples:**
```lisp
(system "ls")              ; => 0 (exit status)
```

**See also:** [system-output](#system-output)

---

### system-output {#system-output}

Execute shell command and capture output as string.

**Signature:** `(system-output command)`

**Examples:**
```lisp
(system-output "whoami")   ; => "username"
(system-output "echo hi")  ; => "hi"
```

**See also:** [system](#system)

---

### exit {#exit}

Exit program with status code.

**Signature:** `(exit status)`

---

### format-value {#format-value}

Format value for display.

**Signature:** `(format-value x)`

---

## Display and Output

Functions for formatting and printing values.

### display {#display}

Print value with newline.

**Signature:** `(display x)`

**Examples:**
```lisp
(display 42)             ; prints "42" with newline
(display "hello")        ; prints "hello" with newline
(display (list 1 2 3))   ; prints "1 2 3" with newline
```

**See also:** [println](#println), [trace](#trace)

---

### println {#println}

Alias for display.

**Signature:** `(println x)`

**See also:** [display](#display)

---

### str {#str}

Concatenate formatted values into string.

**Signature:** `(str args...)`

**Examples:**
```lisp
(str "hello" " " "world")  ; => "hello world"
(str 1 "+" 2)              ; => "1+2"
```

**See also:** [string-join](#string-join), [format](#format)

---

### trace {#trace}

Print value and return it.

**Signature:** `(trace x rest...)`

**Examples:**
```lisp
(trace 42)               ; prints "42", returns 42
(trace 42 "result")      ; prints "result: 42", returns 42
```

**See also:** [warn](stdlib-macro-eval-interop.html#warn), [display](#display)

---

