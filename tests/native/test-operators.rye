;; Native tests for operators
;; Tests arithmetic, comparison, and logical operators with various arities

;; Arithmetic operators

(define test-addition-basic (lambda ()
  (assert-equal 3 (+ 1 2))
  (assert-equal 10 (+ 1 2 3 4))))

(define test-addition-variadic (lambda ()
  (assert-equal 0 (+))
  (assert-equal 5 (+ 5))
  (assert-equal 15 (+ 1 2 3 4 5))))

(define test-subtraction-basic (lambda ()
  (assert-equal 1 (- 3 2))
  (assert-equal -4 (- 1 2 3))))

(define test-subtraction-unary (lambda ()
  (assert-equal -5 (- 5))
  (assert-equal 5 (- -5))))

(define test-multiplication-basic (lambda ()
  (assert-equal 6 (* 2 3))
  (assert-equal 24 (* 2 3 4))))

(define test-multiplication-variadic (lambda ()
  (assert-equal 1 (*))
  (assert-equal 5 (* 5))
  (assert-equal 120 (* 1 2 3 4 5))))

(define test-division-basic (lambda ()
  (assert-equal 2 (/ 6 3))
  (assert-equal 2 (/ 12 2 3))))

(define test-division-single-arg (lambda ()
  (assert-equal 0.5 (/ 2))
  (assert-equal 0.25 (/ 4))))

;; Comparison operators

(define test-equality-basic (lambda ()
  (assert-true (== 1 1))
  (assert-true (! (== 1 2)))))

(define test-less-than-basic (lambda ()
  (assert-true (< 1 2))
  (assert-true (! (< 2 1)))))

(define test-less-equal-basic (lambda ()
  (assert-true (<= 1 2))
  (assert-true (<= 2 2))))

(define test-greater-than-basic (lambda ()
  (assert-true (> 2 1))
  (assert-true (! (> 1 2)))))

(define test-greater-equal-basic (lambda ()
  (assert-true (>= 2 1))
  (assert-true (>= 2 2))))

;; Logical operators

(define test-and-basic (lambda ()
  (assert-true (&& #t #t))
  (assert-true (! (&& #t #f)))
  (assert-true (! (&& #f #t)))
  (assert-true (! (&& #f #f)))))

(define test-or-basic (lambda ()
  (assert-true (|| #t #t))
  (assert-true (|| #t #f))
  (assert-true (|| #f #t))
  (assert-true (! (|| #f #f)))))

(define test-not-basic (lambda ()
  (assert-true (! #f))
  (assert-true (! (! #t)))))

;; Modulo and power

(define test-modulo-basic (lambda ()
  (assert-equal 1 (%% 5 2))
  (assert-equal 0 (%% 10 5))
  (assert-equal 2 (%% 12 5))))

(define test-power-basic (lambda ()
  (assert-equal 8 (^ 2 3))
  (assert-equal 1 (^ 5 0))
  (assert-equal 5 (^ 5 1))))
